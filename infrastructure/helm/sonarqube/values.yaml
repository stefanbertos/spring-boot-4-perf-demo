replicaCount: 1

image:
  repository: sonarqube
  tag: "community"
  pullPolicy: IfNotPresent

service:
  type: ClusterIP
  port: 9000

# Sonar authentication token for CI/CD integration
# Generate token in SonarQube: Administration > Security > Users > Tokens
sonar:
  # Token used by Gradle/Maven to authenticate with SonarQube
  # Set via --set sonar.token=<your-token> or in values override
  token: ""
  # Project key for analysis
  projectKey: "spring-boot-4-perf-demo"
  # External URL for Gradle to reach SonarQube (from outside cluster)
  externalUrl: "http://localhost:9001/sonar"

resources:
  requests:
    memory: "2Gi"
    cpu: "500m"
  limits:
    memory: "4Gi"
    cpu: "2000m"

persistence:
  enabled: true
  data:
    size: 10Gi
  extensions:
    size: 1Gi
  logs:
    size: 1Gi
  storageClass: ""

postgresql:
  enabled: true
  image:
    repository: postgres
    tag: "16-alpine"
    pullPolicy: IfNotPresent
  resources:
    requests:
      memory: "256Mi"
      cpu: "100m"
    limits:
      memory: "512Mi"
      cpu: "500m"
  persistence:
    enabled: true
    size: 5Gi
    storageClass: ""
  auth:
    username: sonar
    password: sonar
    database: sonar
